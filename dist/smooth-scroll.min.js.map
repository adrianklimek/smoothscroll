{"version":3,"file":"smooth-scroll.min.js","sources":["../src/utils/animate.js","../src/utils/get-offset.js","../src/index.js"],"sourcesContent":["/* eslint-disable */\nconst easings = {\n  linear: t => t,\n  easeIn: t => t * t * t,\n  easeOut: t => (--t) * t * t + 1,\n  easeInOut: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n}\n/* eslint-enable */\n\n/**\n * Animates number values using requestAnimationFrame\n *\n * @param {Object} opts\n * @param {number} opts.start\n * @param {number} opts.end\n * @param {number} opts.duration\n * @param {Function, string} opts.easing an easing function or a name of one of the predefined ones\n * @param {Function} opts.onUpdate a function that is called on every animation frame\n * @param {Function} opts.onComplete a function that is called at the end\n * @returns {boolean}\n */\nfunction animate({ start, end, duration, easing, onUpdate, onComplete }) {\n  if (typeof onUpdate !== 'function') return false\n\n  const easingFunc = typeof easing !== 'function'\n    ? easings[easing] || easings.easeInOut\n    : easing\n\n  let initialTime = null\n\n  const animationFrame = timestamp => {\n    initialTime = initialTime || timestamp\n    const elapsedTime = timestamp - initialTime\n    const animationProgress = Math.min(elapsedTime / duration, 1)\n    const currentValue = start + (end - start) * easingFunc(animationProgress)\n\n    onUpdate(currentValue, animationProgress)\n\n    if (elapsedTime <= duration) window.requestAnimationFrame(animationFrame)\n    else if (typeof onComplete === 'function') onComplete(currentValue, animationProgress)\n  }\n  window.requestAnimationFrame(animationFrame)\n\n  return true\n}\n\nexport default animate\n","/**\n * Gets offset of an element\n *\n * @param {HTMLElement} target\n * @param {Object} context\n * @returns {Object} top and left offset\n */\nfunction getOffset(target, context = window) {\n  const scrollPosition = {\n    left: context === window ? context.pageXOffset : context.scrollLeft,\n    top: context === window ? context.pageYOffset : context.scrollTop,\n  }\n  const targetRect = target.getBoundingClientRect()\n  const contextRect = typeof context.getBoundingClientRect === 'function'\n    ? context.getBoundingClientRect()\n    : { left: 0, top: 0 }\n\n  return {\n    left: Math.abs(contextRect.left - targetRect.left - scrollPosition.left),\n    top: Math.abs(contextRect.top - targetRect.top - scrollPosition.top),\n  }\n}\n\nexport default getOffset\n","import animate from './utils/animate'\nimport getOffset from './utils/get-offset'\n\nconst getScrollPosition = el => ({\n  top: el.pageYOffset || el.scrollTop || 0,\n  left: el.pageXOffset || el.scrollLeft || 0,\n})\n\nconst setScrollPosition = (el, { top, left }) => {\n  if (el === window) {\n    el.scrollTo(left, top)\n  } else {\n    /* eslint-disable */\n    el.scrollTop = top\n    el.scrollLeft = left\n    /* eslint-enable */\n  }\n}\n\n/**\n * Animates scroll\n *\n * @param {HTMLElement, number} destination position or a DOM element\n * @param {Object} opts\n * @param {number} opts.duration\n * @param {Function, string} opts.easing function or name of one of predefined easing functions\n * @param {Object} opts.context element to apply scroll to\n * @param {string} opts.orientation scroll orientation ('horizontal' or 'vertical')\n * @param {number} opts.offset scroll offset in px\n * @param {Function} opts.onUpdate function that is called on every change\n * @param {Function} opts.onComplete function that is called on animation end\n */\nfunction smoothScroll(destination, opts = {}) {\n  const {\n    duration = 600,\n    easing = 'easeInOut',\n    context = window,\n    orientation = 'vertical',\n    offset = 0,\n    onUpdate = () => {},\n    onComplete = () => {},\n  } = opts\n\n  const startPosition = getScrollPosition(context)\n\n  // Keep the same data structure for object and number value of `destination`\n  const destinationPosition = typeof destination === 'object'\n    ? getOffset(destination, context)\n    : { top: destination, left: destination }\n\n  const isHorizontal = orientation === 'horizontal'\n  const applyOrientation = ({ top, left }) => isHorizontal ? left : top\n\n  const updateScrollPosition = (value, progress) => {\n    setScrollPosition(context, {\n      top: isHorizontal ? startPosition.top : value,\n      left: isHorizontal ? value : startPosition.left,\n    })\n    onUpdate(value, progress)\n  }\n\n  animate({\n    start: applyOrientation(startPosition),\n    end: applyOrientation(destinationPosition) + offset,\n    onUpdate: updateScrollPosition,\n    onComplete,\n    duration,\n    easing,\n  })\n}\n\nexport default smoothScroll\n"],"names":["easings","linear","t","easeIn","easeOut","easeInOut","animate","start","end","duration","easing","onUpdate","onComplete","easingFunc","initialTime","animationFrame","timestamp","elapsedTime","animationProgress","Math","min","currentValue","window","requestAnimationFrame","getOffset","target","context","scrollPosition","left","pageXOffset","scrollLeft","top","pageYOffset","scrollTop","targetRect","getBoundingClientRect","contextRect","abs","getScrollPosition","el","setScrollPosition","scrollTo","smoothScroll","destination","opts","orientation","offset","startPosition","destinationPosition","isHorizontal","applyOrientation","updateScrollPosition","value","progress"],"mappings":"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"}