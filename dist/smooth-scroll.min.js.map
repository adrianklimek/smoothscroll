{"version":3,"file":"smooth-scroll.min.js","sources":["../src/utils/animate.js","../src/index.js","../src/utils/get-offset.js"],"sourcesContent":["/* eslint-disable */\nconst easings = {\n  linear: t => t,\n  easeIn: t => t * t * t,\n  easeOut: t => (--t) * t * t + 1,\n  easeInOut: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n}\n/* eslint-enable */\n\n/**\n * Animates number values using requestAnimationFrame\n *\n * @param {Object} opts\n * @param {number} opts.start\n * @param {number} opts.end\n * @param {number} opts.duration\n * @param {Function, string} opts.easing an easing function or a name of one of the predefined ones\n * @param {Function} opts.onUpdate a function that is called on every animation frame\n * @param {Function} opts.onComplete a function that is called at the end\n * @returns {boolean}\n */\nfunction animate({ start, end, duration, easing, onUpdate, onComplete }) {\n  if (typeof onUpdate !== 'function') return false\n\n  const easingFunc = typeof easing !== 'function'\n    ? easings[easing] || easings.easeInOut\n    : easing\n\n  let initialTime = null\n\n  const animationFrame = timestamp => {\n    initialTime = initialTime || timestamp\n    const elapsedTime = timestamp - initialTime\n    const animationProgress = Math.min(elapsedTime / duration, 1)\n    const currentValue = start + (end - start) * easingFunc(animationProgress)\n\n    onUpdate(currentValue, animationProgress)\n\n    if (elapsedTime <= duration) window.requestAnimationFrame(animationFrame)\n    else if (typeof onComplete === 'function') onComplete(currentValue, animationProgress)\n  }\n  window.requestAnimationFrame(animationFrame)\n\n  return true\n}\n\nexport default animate\n","import animate from './utils/animate'\nimport getOffset from './utils/get-offset'\n\nconst getScrollPosition = el => ({\n  top: el.pageYOffset || el.scrollTop || 0,\n  left: el.pageXOffset || el.scrollLeft || 0,\n})\n\nconst setScrollPosition = (el, { top, left }) => {\n  if (el === window) {\n    el.scrollTo(left, top)\n  } else {\n    /* eslint-disable */\n    el.scrollTop = top\n    el.scrollLeft = left\n    /* eslint-enable */\n  }\n}\n\n/**\n * Animates scroll\n *\n * @param {HTMLElement, number} destination position or a DOM element\n * @param {Object} opts\n * @param {number} opts.duration\n * @param {Function, string} opts.easing function or name of one of predefined easing functions\n * @param {Object} opts.context element to apply scroll to\n * @param {string} opts.orientation scroll orientation ('horizontal' or 'vertical')\n * @param {number} opts.offset scroll offset in px\n * @param {Function} opts.onUpdate function that is called on every change\n * @param {Function} opts.onComplete function that is called on animation end\n */\nfunction smoothScroll(destination, opts = {}) {\n  const {\n    duration = 600,\n    easing = 'easeInOut',\n    context = window,\n    orientation = 'vertical',\n    offset = 0,\n    onUpdate = () => {},\n    onComplete = () => {},\n  } = opts\n\n  const startPosition = getScrollPosition(context)\n\n  // Keep the same data structure for object and number value of `destination`\n  const destinationPosition = typeof destination === 'object'\n    ? getOffset(destination, context)\n    : { top: destination, left: destination }\n\n  const isHorizontal = orientation === 'horizontal'\n  const applyOrientation = ({ top, left }) => isHorizontal ? left : top\n\n  const updateScrollPosition = (value, progress) => {\n    setScrollPosition(context, {\n      top: isHorizontal ? startPosition.top : value,\n      left: isHorizontal ? value : startPosition.left,\n    })\n    onUpdate(value, progress)\n  }\n\n  animate({\n    start: applyOrientation(startPosition),\n    end: applyOrientation(destinationPosition) + offset,\n    onUpdate: updateScrollPosition,\n    onComplete,\n    duration,\n    easing,\n  })\n}\n\nexport default smoothScroll\n","/**\n * Gets offset of an element\n *\n * @param {HTMLElement} target\n * @param {Object} context\n * @returns {Object} top and left offset\n */\nfunction getOffset(target, context = window) {\n  const scrollPosition = {\n    left: context.pageXOffset || context.scrollLeft,\n    top: context.pageYOffset || context.scrollTop,\n  }\n  const targetRect = target.getBoundingClientRect()\n  const contextRect = typeof context.getBoundingClientRect === 'function'\n    ? context.getBoundingClientRect()\n    : { left: 0, top: 0 }\n\n  return {\n    left: Math.abs(contextRect.left - targetRect.left - scrollPosition.left),\n    top: Math.abs(contextRect.top - targetRect.top - scrollPosition.top),\n  }\n}\n\nexport default getOffset\n"],"names":["easings","linear","t","easeIn","easeOut","easeInOut","destination","el","opts","duration","easing","context","window","orientation","offset","onUpdate","onComplete","startPosition","top","pageYOffset","scrollTop","left","pageXOffset","scrollLeft","destinationPosition","_typeof","target","scrollPosition","targetRect","getBoundingClientRect","contextRect","Math","abs","getOffset","isHorizontal","applyOrientation","start","end","easingFunc","initialTime","requestAnimationFrame","animationFrame","timestamp","elapsedTime","animationProgress","min","currentValue","animate","value","progress","scrollTo"],"mappings":"uaACA,IAAMA,EAAU,CACdC,OAAQ,SAAAC,UAAKA,GACbC,OAAQ,SAAAD,UAAKA,EAAIA,EAAIA,GACrBE,QAAS,SAAAF,WAAQA,EAAKA,EAAIA,EAAI,GAC9BG,UAAW,SAAAH,UAAKA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,GAAKA,EAAI,IAAM,EAAIA,EAAI,IAAM,EAAIA,EAAI,GAAK,WC2BlF,SAAsBI,OA7BIC,EA6BSC,yDAAO,KASpCA,EAPFC,SAAAA,aAAW,QAOTD,EANFE,OAAAA,aAAS,gBAMPF,EALFG,QAAAA,aAAUC,WAKRJ,EAJFK,YAAAA,aAAc,eAIZL,EAHFM,OAAAA,aAAS,MAGPN,EAFFO,SAAAA,aAAW,iBAETP,EADFQ,WAAAA,aAAa,eAGTC,EAxCyB,CAC/BC,KADwBX,EAwCgBI,GAvChCQ,aAAeZ,EAAGa,WAAa,EACvCC,KAAMd,EAAGe,aAAef,EAAGgB,YAAc,GAyCnCC,EAA6C,WAAvBC,EAAOnB,GCvCrC,SAAmBoB,OAAQf,yDAAUC,OAC7Be,EACEhB,EAAQW,aAAeX,EAAQY,WADjCI,EAEChB,EAAQQ,aAAeR,EAAQS,UAEhCQ,EAAaF,EAAOG,wBACpBC,EAAuD,mBAAlCnB,EAAQkB,sBAC/BlB,EAAQkB,wBACR,CAAER,KAAM,EAAGH,IAAK,SAEb,CACLG,KAAMU,KAAKC,IAAIF,EAAYT,KAAOO,EAAWP,KAAOM,GACpDT,IAAKa,KAAKC,IAAIF,EAAYZ,IAAMU,EAAWV,IAAMS,ID4B/CM,CAAU3B,EAAaK,GACvB,CAAEO,IAAKZ,EAAae,KAAMf,GAExB4B,EAA+B,eAAhBrB,EACfsB,EAAmB,gBAAGjB,IAAAA,IAAKG,IAAAA,YAAWa,EAAeb,EAAOH,ID9BpE,gBAAmBkB,IAAAA,MAAOC,IAAAA,IAAK5B,IAAAA,SAAUC,IAAAA,OAAQK,IAAAA,SAAUC,IAAAA,cACjC,mBAAbD,OAELuB,EAA+B,mBAAX5B,EACtBV,EAAQU,IAAWV,EAAQK,UAC3BK,EAEA6B,EAAc,KAalB3B,OAAO4B,sBAXgB,SAAjBC,EAAiBC,OAEfC,EAAcD,GADpBH,EAAcA,GAAeG,GAEvBE,EAAoBb,KAAKc,IAAIF,EAAclC,EAAU,GACrDqC,EAAeV,GAASC,EAAMD,GAASE,EAAWM,GAExD7B,EAAS+B,EAAcF,GAEnBD,GAAelC,EAAUG,OAAO4B,sBAAsBC,GAC3B,mBAAfzB,GAA2BA,EAAW8B,EAAcF,MCsBtEG,CAAQ,CACNX,MAAOD,EAAiBlB,GACxBoB,IAAKF,EAAiBX,GAAuBV,EAC7CC,SAX2B,SAACiC,EAAOC,GA7Cb,IAAC1C,IAAMW,EAAKG,EAAXd,EA8CLI,EA9CWO,KA8CF,CACzBA,IAAKgB,EAAejB,EAAcC,IAAM8B,EACxC3B,KAAMa,EAAec,EAAQ/B,EAAcI,OAhDhBH,IAAKG,IAAAA,KAChCd,IAAOK,OACTL,EAAG2C,SAAS7B,EAAMH,IAGlBX,EAAGa,UAAYF,EACfX,EAAGgB,WAAaF,GA4ChBN,EAASiC,EAAOC,IAOhBjC,WAAAA,EACAP,SAAAA,EACAC,OAAAA"}