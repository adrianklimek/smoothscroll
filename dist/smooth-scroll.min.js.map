{"version":3,"file":"smooth-scroll.min.js","sources":["../src/utils/animate.js","../src/utils/getOffset.js","../src/index.js"],"sourcesContent":["/* eslint-disable */\nconst easings = {\n  linear: t => t,\n  easeIn: t => t * t * t,\n  easeOut: t => (--t) * t * t + 1,\n  easeInOut: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n}\n/* eslint-enable */\n\n/**\n* Animates number values\n*\n* @param {Object} opts\n* @param {Number} opts.startValue\n* @param {Number} opts.endValue\n* @param {Number} opts.duration\n* @param {Function, String} opts.easing an easing function or a name of one of the predefined ones\n* @param {Function} opts.callback a function that is called on every animation frame\n* @returns {Boolean}\n*/\nconst animate = ({\n  startValue,\n  endValue,\n  duration,\n  easing,\n  callback,\n}) => {\n  if (typeof callback !== 'function') return false\n\n  const easingFunc = typeof easing !== 'function'\n    ? easings[easing] || easings.easeInOut\n    : easing\n\n  const animationFrame = (initialTime) => {\n    const elapsedTime = Date.now() - initialTime\n    const isFinal = elapsedTime > duration\n    const animationProgress = isFinal ? 1 : elapsedTime / duration\n    const currentValue = isFinal\n      ? endValue\n      : startValue + ((endValue - startValue) * easingFunc(animationProgress))\n\n    // A final `animationProgress` is 1 so it can be used to trigger complete callback\n    callback(currentValue, animationProgress)\n    if (elapsedTime <= duration) requestAnimationFrame(animationFrame.bind(null, initialTime))\n  }\n  animationFrame(Date.now())\n\n  return true\n}\n\nexport default animate\n","/**\n * Gets offset of an element\n *\n * @param {HTMLelement} element\n * @returns {Object} top and left offset\n */\nconst getOffset = (element) => {\n  const offset = ({ top, left }, { offsetTop = 0, offsetLeft = 0, offsetParent }) => {\n    const output = { top: top + offsetTop, left: left + offsetLeft }\n    return offsetParent ? offset({ ...output }, offsetParent) : output\n  }\n\n  return offset({ top: 0, left: 0 }, element)\n}\n\nexport default getOffset\n","import animate from './utils/animate'\nimport getOffset from './utils/getOffset'\n\nconst getScrollPosition = el => ({\n  top: el.pageYOffset || el.scrollTop || 0,\n  left: el.pageXOffset || el.scrollLeft || 0,\n})\n\nconst setScrollPosition = (el, { top, left }) => {\n  if (el === window) {\n    el.scrollTo(left, top)\n  } else {\n    /* eslint-disable */\n    el.scrollTop = top\n    el.scrollLeft = left\n    /* eslint-enable */\n  }\n}\n\n/**\n * Animates scroll\n *\n * @param {HTMLElement, Number} destination position or a DOM element\n * @param {Object} opts\n * @param {Number} opts.duration\n * @param {Function, String} opts.easing function or name of one of predefined easing functions\n * @param {HTMLElement} opts.context element to apply scroll to\n * @param {String} opts.orientation scroll orientation ('horizontal' or 'vertical')\n * @param {Number} opts.offset scroll offset in px\n * @param {Function} callback function that is called on animation end\n */\n\nconst index = (destination, opts = {}, callback) => {\n  const {\n    duration = 600,\n    easing = 'easeInOut',\n    context = window,\n    orientation = 'vertical',\n    offset = 0,\n  } = opts\n\n  const startPosition = getScrollPosition(context)\n\n  // Keep same data structure for object and number value of `destination`\n  const destinationPosition = typeof destination === 'object'\n    ? getOffset(destination)\n    : { top: destination, left: destination }\n\n  const applyOrientation = ({ top, left }) =>\n    orientation === 'horizontal' ? left : top\n\n  const updateScrollPosition = (value) => {\n    setScrollPosition(context, {\n      top: orientation === 'horizontal' ? startPosition.top : value,\n      left: orientation === 'horizontal' ? value : startPosition.left,\n    })\n  }\n\n  const animateScroll = (currentValue, progress) => {\n    updateScrollPosition(currentValue)\n    if (progress === 1 && typeof callback === 'function') callback(destination)\n  }\n\n  animate({\n    startValue: applyOrientation(startPosition),\n    endValue: applyOrientation(destinationPosition) + offset,\n    duration,\n    easing,\n    callback: animateScroll,\n  })\n}\n\nexport default index\n"],"names":["easings","linear","t","easeIn","easeOut","easeInOut","getOffset","element","offset","top","left","offsetTop","offsetLeft","offsetParent","output","destination","el","opts","callback","duration","easing","context","window","orientation","startPosition","pageYOffset","scrollTop","pageXOffset","scrollLeft","destinationPosition","_typeof","applyOrientation","updateScrollPosition","value","scrollTo","startValue","endValue","easingFunc","animationFrame","initialTime","elapsedTime","Date","now","isFinal","animationProgress","currentValue","requestAnimationFrame","bind","animate","progress"],"mappings":"gaACA,IAAMA,EAAU,CACdC,OAAQ,SAAAC,UAAKA,GACbC,OAAQ,SAAAD,UAAKA,EAAIA,EAAIA,GACrBE,QAAS,SAAAF,WAAQA,EAAKA,EAAIA,EAAI,GAC9BG,UAAW,SAAAH,UAAKA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,GAAKA,EAAI,IAAM,EAAIA,EAAI,IAAM,EAAIA,EAAI,GAAK,ICC5EI,EAAY,SAACC,UACF,SAATC,WAAYC,IAAAA,IAAKC,IAAAA,SAAUC,UAAAA,aAAY,QAAGC,WAAAA,aAAa,IAAGC,IAAAA,aACxDC,EAAS,CAAEL,IAAKA,EAAME,EAAWD,KAAMA,EAAOE,UAC7CC,EAAeL,gbAAYM,GAAUD,GAAgBC,EAGvDN,CAAO,CAAEC,IAAK,EAAGC,KAAM,GAAKH,WCoBvB,SAACQ,OA7BWC,EA6BEC,yDAAO,GAAIC,2CAOjCD,EALFE,SAAAA,aAAW,QAKTF,EAJFG,OAAAA,aAAS,gBAIPH,EAHFI,QAAAA,aAAUC,WAGRL,EAFFM,YAAAA,aAAc,eAEZN,EADFT,OAAAA,aAAS,IAGLgB,EAtCyB,CAC/Bf,KADwBO,EAsCgBK,GArChCI,aAAeT,EAAGU,WAAa,EACvChB,KAAMM,EAAGW,aAAeX,EAAGY,YAAc,GAuCnCC,EAA6C,WAAvBC,EAAOf,GAC/BT,EAAUS,GACV,CAAEN,IAAKM,EAAaL,KAAMK,GAExBgB,EAAmB,gBAAGtB,IAAAA,IAAKC,IAAAA,WACf,eAAhBa,EAA+Bb,EAAOD,GAElCuB,EAAuB,SAACC,GA3CN,IAACjB,IAAMP,EAAKC,EAAXM,EA4CLK,EA5CWZ,KA4CF,CACzBA,IAAqB,eAAhBc,EAA+BC,EAAcf,IAAMwB,EACxDvB,KAAsB,eAAhBa,EAA+BU,EAAQT,EAAcd,OA9ChCD,IAAKC,IAAAA,KAChCM,IAAOM,OACTN,EAAGkB,SAASxB,EAAMD,IAGlBO,EAAGU,UAAYjB,EACfO,EAAGY,WAAalB,KFMJ,gBACdyB,IAAAA,WACAC,IAAAA,SACAjB,IAAAA,SACAC,IAAAA,OACAF,IAAAA,YAEwB,mBAAbA,OAELmB,EAA+B,mBAAXjB,EACtBpB,EAAQoB,IAAWpB,EAAQK,UAC3Be,GAEmB,SAAjBkB,EAAkBC,OAChBC,EAAcC,KAAKC,MAAQH,EAC3BI,EAAwBxB,EAAdqB,EACVI,EAAoBD,EAAU,EAAIH,EAAcrB,EAChD0B,EAAeF,EACjBP,EACAD,GAAeC,EAAWD,GAAcE,EAAWO,GAGvD1B,EAAS2B,EAAcD,GACnBJ,GAAerB,GAAU2B,sBAAsBR,EAAeS,KAAK,KAAMR,IAE/ED,CAAeG,KAAKC,QEkBpBM,CAAQ,CACNb,WAAYJ,EAAiBP,GAC7BY,SAAUL,EAAiBF,GAAuBrB,EAClDW,SAAAA,EACAC,OAAAA,EACAF,SAVoB,SAAC2B,EAAcI,GACnCjB,EAAqBa,GACJ,IAAbI,GAAsC,mBAAb/B,GAAyBA,EAASH"}